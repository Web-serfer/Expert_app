---
import { Icon } from "astro-icon";
import "swiper/swiper-bundle.css";
---

<section id="testimonials" class="testimonials section">
  <div class="testimonial__bg">
    <div class="testimonial__icon">
      <Icon pack="ri" name="double-quotes-r" size={25} />
    </div>

    <div class="testimonial__container container swiper">
      <!-- testimonial-item 1 -->
      <div class="swiper-wrapper">
        <div class="swiper-slide testimonial__item">
          <h3 class="author__name text-lg">Antonio Anderson</h3>
          <p class="author__project">
            Project: Landing page for travel company
          </p>
          <div class="ruler"></div>
          <p class="testimonial__descr text-lg">
            It has survived not only five centuries, but also the leap into
            electronic typesetting, remaining essentially unchanged. It was
            popularised in the 1960s with the release of Letraset sheets
            containing Lorem Ipsum passages. It was popularised in the 1960s
            with the release of Letraset sheets containing Lorem Ipsum passages.
          </p>
        </div>

        <!-- testimonial-item 2 -->
        <div class="swiper-slide testimonial__item">
          <h3 class="author__name text-lg">Antonio Anderson</h3>
          <p class="author__project">
            Project: Landing page for travel company
          </p>
          <div class="ruler"></div>
          <p class="testimonial__descr text-lg">
            It has survived not only five centuries, but also the leap into
            electronic typesetting, remaining essentially unchanged. It was
            popularised in the 1960s with the release of Letraset sheets
            containing Lorem Ipsum passages. It was popularised in the 1960s
            with the release of Letraset sheets containing Lorem Ipsum passages.
          </p>
        </div>

        <!-- testimonial-item 3 -->
        <div class="swiper-slide testimonial__item">
          <h3 class="author__name text-lg">Antonio Anderson</h3>
          <p class="author__project">
            Project: Landing page for travel company
          </p>
          <div class="ruler"></div>
          <p class="testimonial__descr text-lg">
            It has survived not only five centuries, but also the leap into
            electronic typesetting, remaining essentially unchanged. It was
            popularised in the 1960s with the release of Letraset sheets
            containing Lorem Ipsum passages. It was popularised in the 1960s
            with the release of Letraset sheets containing Lorem Ipsum passages.
          </p>
        </div>
      </div>

      <div class="swiper-button-next">
        <Icon
          pack="ic"
          name="outline-keyboard-double-arrow-right"
          size={30}
          class="arrow"
        />
      </div>
      <div class="swiper-button-prev">
        <Icon
          pack="ic"
          name="baseline-keyboard-double-arrow-left"
          size={30}
          class="arrow"
        />
      </div>
      <div class="swiper-pagination"></div>
    </div>
  </div>
</section>

<style>
  .testimonial__bg {
    background: url("../assets/bg.jpg");
    background-size: cover;
    background-position: 50%;
    position: relative;
  }

  .testimonial__bg::before {
    content: "";
    background: var(--linear-gradient);
    height: 100%;
    position: absolute;
    left: 0;
    right: 0;
  }

  .testimonial__icon {
    height: 88px;
    width: 88px;
    border-radius: 50%;
    position: absolute;
    top: -2.75rem;
    left: 50%;
    transform: translateX(-50%);
    background-color: var(--bg-color);
    font-size: 1.75rem;
    color: var(--primary-color);
    padding-top: 2.75rem;
    text-align: center;
  }

  section .testimonial__container {
    padding-top: 5rem;
    padding-bottom: 5rem;
  }

  .testimonial__item {
    padding: 0 5.75rem;
  }

  .testimonial__descr,
  .author__project,
  .author__name {
    color: #fff;
  }

  .author__name {
    text-transform: uppercase;
    margin-bottom: 0.56em;
    font-weight: 400;
  }

  .author__project {
    font-style: italic;
    opacity: 0.7;
    margin-bottom: 1.25rem;
  }

  .testimonial__descr {
    text-align: center;
  }

  .ruler {
    width: 100%;
    height: 1px;
    background-color: #a98a79;
    margin-bottom: 1.25rem;
  }

  section .swiper-button-next::after,
  section .swiper-button-prev::after {
    content: "";
  }

  .arrow {
    color: #fff;
  }

  .swiper-pagination-fraction,
  .swiper-pagination-custom,
  .swiper-horizontal {
    bottom: 1rem;
  }

  :global(section .swiper-pagination-bullet) {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: transparent;
    border: 1px solid #fff;
    opacity: 1;
    margin: 0 3px;
  }

  :global(.swiper-pagination-bullet.swiper-pagination-bullet-active) {
    background-color: #fff;
  }
</style>

<script>
  import Swiper, { Navigation, Pagination } from "swiper";
  Swiper.use([Navigation, Pagination]);

  let testiSwiper = new Swiper(".swiper", {
    loop: true,
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },
    pagination: {
      el: ".swiper-pagination",
    },
    mousewheel: true,
    keyboard: true,
  });
</script>
